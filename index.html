<!-- Estrutura SPA com login e cadastro -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KDesk - Gestão de Arquitetura</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- Tela de Cadastro -->
  <section id="cadastroSection" class="pagina">
    <h1>Cadastro - KDesk</h1>
    <input type="text" id="nomeCadastro" class="input-full" placeholder="Nome completo" required />
    <input type="email" id="emailCadastro" class="input-full" placeholder="E-mail" required />
    <input type="password" id="senhaCadastro" class="input-full" placeholder="Senha" required />
    <button onclick="cadastrarUsuario()">Cadastrar</button>
    <p>Já tem conta? <a href="#" onclick="mostrarLogin()">Entrar</a></p>
  </section>

  <!-- Tela de Login -->
  <section id="loginSection" class="pagina" style="display:none;">
    <h1>Login - KDesk</h1>
    <input type="email" id="emailLogin" class="input-full" placeholder="E-mail" required />
    <input type="password" id="senhaLogin" class="input-full" placeholder="Senha" required />
    <button onclick="login()">Entrar</button>
    <p>Não tem conta? <a href="#" onclick="mostrarCadastro()">Cadastre-se</a></p>
  </section>

  <!-- Navbar -->
  <nav id="navbar" style="display:none;">
    <button onclick="mostrarSecao('panorama')">Panorama</button>
    <button onclick="mostrarSecao('clientes')">Clientes</button>
    <button onclick="mostrarSecao('projetos')">Projetos</button>
    <button onclick="logout()">Sair</button>
  </nav>

  <!-- Seções SPA -->
  <section id="panorama" class="pagina" style="display:none;">
    <h2>Dashboard</h2>
    <div id="indicadores"></div>
  </section>

  <section id="clientes" class="pagina" style="display:none;">
    <h2>Clientes</h2>
    <button onclick="abrirModalCliente()">Novo Cliente</button>
    <button onclick="exportarClientesPDF()">Exportar PDF</button>
    <div id="listaClientes"></div>
  </section>

  <section id="projetos" class="pagina" style="display:none;">
    <h2>Projetos</h2>
    <button onclick="abrirModalProjeto()">Novo Projeto</button>
    <button onclick="exportarProjetosPDF()">Exportar PDF</button>
    <div id="listaProjetos"></div>
  </section>

  <script>
    function mostrarCadastro() {
      document.getElementById("loginSection").style.display = "none";
      document.getElementById("cadastroSection").style.display = "block";
    }

    function mostrarLogin() {
      document.getElementById("cadastroSection").style.display = "none";
      document.getElementById("loginSection").style.display = "block";
    }
  </script>

  <script src="js/kdesk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <!-- Modal Cliente -->
<div id="clienteModal" class="modal" style="display:none;">
  <div class="modal-content">
    <h2>Novo Cliente</h2>
    <input type="text" id="clienteNome" placeholder="Nome" class="input-full" />
    <input type="text" id="clienteTelefone" placeholder="Telefone" class="input-full" />
    <input type="email" id="clienteEmail" placeholder="E-mail" class="input-full" />
    <textarea id="clienteObservacoes" placeholder="Observações" class="input-full"></textarea>
    <button onclick="salvarCliente()">Salvar</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</div>

<!-- Modal Projeto -->
<div id="projetoModal" class="modal" style="display:none;">
  <div class="modal-content">
    <h2>Novo Projeto</h2>
    <label for="projetoCliente">Cliente:</label>
<select id="projetoCliente" class="input-full">
  <option value="">Selecione um cliente</option>
</select>
    <input type="text" id="projetoNome" placeholder="Nome do Projeto" class="input-full" />
    <input type="text" id="projetoPrazo" placeholder="Prazo (ex: 30 dias)" class="input-full" />
    <input type="number" id="projetoValor" placeholder="Valor Total (R$)" class="input-full" />
    <input type="number" id="projetoPago" placeholder="Valor Pago (R$)" class="input-full" />
    <textarea id="projetoObs" placeholder="Observações" class="input-full"></textarea>
    <button onclick="salvarProjeto()">Salvar</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</div>
</body>
</html>
