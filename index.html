<!-- Estrutura inicial SPA com login -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KDesk - Gestão de Arquitetura</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- Tela de Login -->
  <section id="loginSection">
    <h1>KDesk Login</h1>
    <input type="email" id="email" placeholder="Digite seu e-mail" required />
    <input type="password" id="senha" placeholder="Digite sua senha" required />
    <button onclick="login()">Entrar</button>
  </section>

  <!-- Navbar (visível após login) -->
  <nav id="navbar" style="display:none;">
    <button onclick="mostrarSecao('panorama')">Panorama</button>
    <button onclick="mostrarSecao('clientes')">Clientes</button>
    <button onclick="mostrarSecao('projetos')">Projetos</button>
    <button onclick="logout()">Sair</button>
  </nav>

  <!-- Seções SPA -->
  <section id="panorama" class="pagina" style="display:none;">
    <h2>Dashboard</h2>
    <div id="indicadores"></div>
  </section>

  <section id="clientes" class="pagina" style="display:none;">
    <h2>Clientes</h2>
    <button onclick="novoCliente()">Novo Cliente</button>
    <button onclick="exportarClientesPDF()">Exportar PDF</button>
    <div id="listaClientes"></div>
  </section>

  <section id="projetos" class="pagina" style="display:none;">
    <h2>Projetos</h2>
    <button onclick="novoProjeto()">Novo Projeto</button>
    <button onclick="exportarProjetosPDF()">Exportar PDF</button>
    <div id="listaProjetos"></div>
  </section>

  <!-- Scripts básicos -->
  <script>
    function login() {
      const email = document.getElementById("email").value;
      const senha = document.getElementById("senha").value;
      if (email.trim() !== "" && senha.trim() !== "") {
        document.getElementById("loginSection").style.display = "none";
        document.getElementById("navbar").style.display = "block";
        mostrarSecao("panorama");
      } else {
        alert("Por favor, preencha e-mail e senha.");
      }
    }

    function logout() {
      document.getElementById("navbar").style.display = "none";
      document.querySelectorAll(".pagina").forEach(secao => secao.style.display = "none");
      document.getElementById("loginSection").style.display = "block";
    }

    function mostrarSecao(id) {
      document.querySelectorAll(".pagina").forEach(secao => secao.style.display = "none");
      document.getElementById(id).style.display = "block";
    }
  </script>

  <!-- Scripts externos -->
  <script src="js/kdesk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<!-- Modal de Cliente -->
<div id="clienteModal" class="modal" style="display:none;">
  <div class="modal-content">
    <h3 id="modalTitulo">Novo Cliente</h3>
    <input type="text" id="clienteNome" placeholder="Nome completo" required />
    <input type="text" id="clienteTelefone" placeholder="Telefone" />
    <input type="email" id="clienteEmail" placeholder="E-mail" />
    <textarea id="clienteObservacoes" placeholder="Observações"></textarea>
    <button onclick="salvarCliente()">Salvar</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</div>
<!-- Modal de Projeto -->
<div id="projetoModal" class="modal" style="display:none;">
  <div class="modal-content">
    <h3 id="modalTituloProjeto">Novo Projeto</h3>
    <input type="text" id="projetoNome" placeholder="Nome do projeto" required />
    <input type="text" id="projetoCliente" placeholder="Cliente" />
    <textarea id="projetoDescricao" placeholder="Descrição"></textarea>
    <button onclick="salvarProjeto()">Salvar</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</body>
</html>
